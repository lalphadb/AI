{
  "name": "maintenance-complete",
  "description": "Workflow de maintenance complète de StudiosDB",
  "steps": [
    {
      "name": "Sauvegarde préliminaire",
      "type": "task",
      "task": "backup-studiosdb",
      "output": "backup_result"
    },
    {
      "name": "Monitoring avant",
      "type": "task",
      "task": "monitor-system",
      "output": "monitor_before"
    },
    {
      "name": "Déploiement",
      "type": "task",
      "task": "deploy-studiosdb",
      "output": "deploy_result",
      "condition": {
        "type": "success"
      }
    },
    {
      "name": "Monitoring après",
      "type": "task",
      "task": "monitor-system",
      "output": "monitor_after"
    },
    {
      "name": "Nettoyage",
      "type": "parallel",
      "tasks": [
        "clean-logs",
        "optimize-database",
        "clear-cache"
      ]
    }
  ],
  "branches": {
    "rollback": [
      {
        "name": "Restauration",
        "type": "task",
        "task": "restore-backup"
      }
    ]
  }
}