[tool.ruff]
# Configuration de base pour l'audit et la standardisation
line-length = 100
target-version = "py312"

# Exclusions des fichiers "bruit" identifi√©s lors de l'audit
exclude = [
    "*.backup",
    "*.backup.*",
    "*.broken",
    "*.old",
    "_backups",
    "__pycache__",
    "venv",
    ".env",
    "integration_example.py",
    "memory_patch.py"
]

[tool.ruff.lint]
# E: pycodestyle errors
# W: pycodestyle warnings
# F: pyflakes
# I: isort
# B: flake8-bugbear
# S: flake8-bandit (security rules)
# C4: flake8-comprehensions
# UP: pyupgrade (Python upgrade suggestions)
select = ["E", "W", "F", "I", "B", "S", "C4", "UP"]
ignore = [
    "E501",  # Line too long - on ignore pour l'instant
    "B008",  # Function call in default argument - normal pour FastAPI Depends()
]

[tool.ruff.lint.per-file-ignores]
# Allow assert statements, hardcoded passwords and temp file paths in test files
"tests/*" = ["S101", "S105", "S106", "S108"]
"test_*.py" = ["S101", "S105", "S106", "S108"]
"**/tests.py" = ["S101", "S105", "S106", "S108"]  # RAG tests.py
# Tools and main may use partial path commands and temp files for system operations
"tools/*.py" = ["S607"]
"main.py" = ["S607", "S108"]  # System monitoring endpoints
"security.py" = ["S108"]  # Allowed paths definition
"services/self_healing.py" = ["S607"]  # Docker health checks

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
skip-magic-trailing-comma = false
line-ending = "auto"
